define("kg/linjiahaohuo/0.0.2/index",["kg/xtemplate/4.3.0/runtime","io","anim","event","kg/slide/6.0.8/index","kg/linjiahaohuo/0.0.2/lib/index.css","node"],function(e,a,i){var n,t,l,r=e("kg/xtemplate/4.3.0/runtime"),s=e("io"),o=(e("anim"),e("event")),c=e("kg/slide/6.0.8/index"),d=(e("kg/linjiahaohuo/0.0.2/lib/index.css"),e("node"));n=function(e){var a=r;return e=function(){var e=new a(function(e){function a(e,a,i){e.data,e.affix;return a.data+='class="selected"',a}function i(e,i,n){var t=e.data;e.affix;i.data+="\n                    <li ",v.line=12;var l=t,r=l;r=1===l,i=h.call(s,e,{params:[r],fn:a},i),i.data+='><a href="javascript:void(0);">';var o=t;return i=i.writeEscaped(o),i.data+="</a></li>\n                ",i}function n(e,a,i){var n=e.data,t=e.affix;a.data+='\n                             <li>\n                                 <div class="item">\n                                     <div class="pic">\n                                         <a class="side-item" target="_blank" href="',v.line=25;var l=(r=t.itemUrl)!==i?r:(r=n.itemUrl)!==i?r:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(l),a.data+='"><img title="';var s=(r=t.title)!==i?r:(r=n.title)!==i?r:e.resolveLooseUp(["title"]);a=a.writeEscaped(s),a.data+='" src="';var o=(r=t.picUrl)!==i?r:(r=n.picUrl)!==i?r:e.resolveLooseUp(["picUrl"]);a=a.writeEscaped(o),a.data+='"/></a>\n                                     </div>\n                                     <div class="desc">\n                                         <a class="side-item" target="_blank" href="',v.line=28;var c=(r=t.itemUrl)!==i?r:(r=n.itemUrl)!==i?r:e.resolveLooseUp(["itemUrl"]);a=a.writeEscaped(c),a.data+='">';var d=(r=t.title)!==i?r:(r=n.title)!==i?r:e.resolveLooseUp(["title"]);a=a.writeEscaped(d),a.data+='</a>\n                                     </div>\n                                     <p class="tuijian-price"><span class="tuijian-light"><b class="yen">&yen;</b><b class="price">',v.line=30;var p=(r=t.salePrice)!==i?r:(r=n.salePrice)!==i?r:e.resolveLooseUp(["salePrice"]);a=a.writeEscaped(p),a.data+='</b></span><span class="old-price"><b class="yen">&nbsp;&yen;</b><b class="price">';var u=(r=t.reservePrice)!==i?r:(r=n.reservePrice)!==i?r:e.resolveLooseUp(["reservePrice"]);return a=a.writeEscaped(u),a.data+="</b></span></p>\n                                  </div>\n                             </li>\n                         ",a}function t(e,a,i){var t=e.data,l=e.affix;a.data+="\n                         ",v.line=21,v.line=21;var o=(r=l.xindex)!==i?r:(r=t.xindex)!==i?r:e.resolveLooseUp(["xindex"]),c=o,d=4,p=(r=l.s)!==i?r:(r=t.s)!==i?r:e.resolveLooseUp(["s"]);d=4*p,c=o>=d;var u=c;if(u){var m=(r=l.xindex)!==i?r:(r=t.xindex)!==i?r:e.resolveLooseUp(["xindex"]),f=m,g=4,x=(r=l.s)!==i?r:(r=t.s)!==i?r:e.resolveLooseUp(["s"]),U=x;U=x+1,g=4*U,f=g>m,u=f}return a=h.call(s,e,{params:[u],fn:n},a),a.data+="\n                      ",a}function l(e,a,i){var n=e.data,l=e.affix;a.data+="\n                ",v.line=17;var o,c=n;o=U.call(s,e,{hash:[{key:["s"],value:c,depth:0}]},a);var d=o;a=a.writeEscaped(d),a.data+='\n                <div class="slide-pannel">\n                    <ul>\n                     ',v.line=20,v.line=20;var p=(r=l.result)!==i?r:(r=n.result)!==i?r:e.resolveLooseUp(["result"]);return a=x.call(s,e,{params:[p],fn:t},a),a.data+="\n                    </ul>\n                 </div>\n            ",a}var r,s=this,o=s.root,c=s.buffer,d=s.scope,v=(s.runtime,s.name,s.pos),p=d.data,u=d.affix,m=o.nativeCommands,f=o.utils,g=(f.callFn,f.callDataFn,f.callCommand,m.range),x=(m["void"],m.foreach,m.forin,m.each),h=(m["with"],m["if"]),U=m.set;m.include,m.parse,m.extend,m.block,m.macro,m["debugger"];c.data+='<div id="detail-recommend-linjia">\n    <div class="linjia-items">\n        <h5>\u90bb\u5bb6\u597d\u8d27</h5>\n        <div class="small-rect"></div>\n        <div class="page_num">1/3</div>\n        <div class="prev"></div>\n        <div class="next"></div>\n\n        <div class="linjia-items-slide" style="height: 256px; visibility: visible;">\n            <ul class="pages-nav">\n                ',v.line=11,v.line=11;var b=(r=u.pages)!==e?r:(r=p.pages)!==e?r:d.resolveLooseUp(["pages"]),j=b;j=b+1;var w;w=g.call(s,d,{params:[1,j]},c);var L=w;c=x.call(s,d,{params:[L],fn:i},c),c.data+='\n            </ul>\n            <div class="slide-content">\n            ',v.line=16,v.line=16;var P,k=(r=u.pages)!==e?r:(r=p.pages)!==e?r:d.resolveLooseUp(["pages"]);P=g.call(s,d,{params:[0,k]},c);var E=P;return c=x.call(s,d,{params:[E],fn:l},c),c.data+="\n            </div>\n        </div>\n    </div>\n</div>",c});return e.render.apply(e,arguments)}}(),t=function(e){"use strict";function a(e){return e>99999999?parseFloat(e/1e8).toFixed(1)+"\u4ebf":e>9999?parseFloat(e/1e4).toFixed(1)+"\u4e07":parseFloat(e).toFixed(2)}var i,t,l=d.all,r=s,v=o,p=n,u=c;return e={init:function(e){var n=this;if(n.$container=l(e.container),n.$container&&n.$container.length){var s={itemid:e.itemId,sellerid:e.sellerId};new r({url:"https://tui.taobao.com/recommend?appid=3066",data:s,dataType:"jsonp",timeout:3,success:function(e){if(null!=e&&null!=e.result&&0!=e.result.length){t=Math.floor(e.result.length/4),e.result.length%4!=0&&t++,e.pages=t;for(var l=0;l<e.result.length;l++)e.result[l].reservePrice=a(e.result[l].reservePrice),e.result[l].salePrice=a(e.result[l].salePrice),e.result[l].itemUrl="//item.taobao.com/item.htm?scm="+e.scm+"&id="+e.result[l].itemId,""==e.result[l].picUrl?e.result[l].picUrl="//img.alicdn.com/newshop/nopicture.gif":e.result[l].picUrl+="_160x160xz.jpg";n.$container.html(p(e)),i=new u(".linjia-items-slide",{contentClass:"slide-content",pannelClass:"slide-pannel",effect:"fade"}),n._bindEvents()}},error:function(){logger.info("CarProfile Recommend API error")}})}},_bindEvents:function(){v.delegate("#detail-recommend-linjia","click",".prev",function(e){i.currentTab>0?(i.previous(),l(".page_num",".linjia-items").text(i.currentTab+1+"/"+t)):(i.go(t-1),l(".page_num",".linjia-items").text(t+"/"+t))}),v.delegate("#detail-recommend-linjia","click",".next",function(e){i.currentTab<t-1?(i.next(),l(".page_num",".linjia-items").text(i.currentTab+1+"/"+t)):(i.go(0),l(".page_num",".linjia-items").text("1/"+t))})}}}(),l=function(e){return e=t}(),i.exports=l});